<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="IntegracionSQLServer">
	<resultMap id="integracionSQLServer" type="IntegracionSQLServer" />

	<select id="listOrdenes"
		resultType="ep.mil.pe.iafas.integracion.model.OrdenesCS"
		parameterType="ep.mil.pe.iafas.integracion.model.OrdenesCS">
        select TipoDocumento tipoDocumento,
        NumeroOrden numeroOrden,
        Documento ruc,
        Busqueda proveedor,
        Descripcion descripcion,
        MontoTotal montoTotal,
        FechaPreparacion fechaOrden 
        from spring2021.dbo.v_OrdenCompraServicio
        where YEAR(FechaPreparacion) = #{periodo} and NumeroOrden = #{numeroOrden} and
        estado = 'CO'
	</select>

</mapper>